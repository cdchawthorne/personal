#!/usr/bin/env zsh

if [[ $# -ne 2 ]]; then
  echo "USAGE: $0 DEVICE1 DEVICE2" >&2
  exit 1
fi

sink="$(wpctl inspect @DEFAULT_AUDIO_SINK@ | sed -rne 's_^.*node\.name \= "(.*)"$_\1_p')"
if [[ $sink == $1 ]]; then
  pactl set-default-sink $2
elif [[ $sink == $2 ]]; then
  pactl set-default-sink $1
else;
  echo "other sink: $sink" >&2
fi
